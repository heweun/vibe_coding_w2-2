name: Issue Auto Comments

on:
  issues:
    types: [opened]

permissions:
  issues: write
  contents: read

jobs:
  comment:
    runs-on: ubuntu-latest
    steps:
    - name: Add issue comment
      uses: actions/github-script@v7
      with:
        script: |
          const { owner, repo, number } = context.issue;
          const issue = context.payload.issue;
          
          // ì´ìŠˆ ìœ í˜• ë¶„ì„
          const title = issue.title.toLowerCase();
          const body = issue.body ? issue.body.toLowerCase() : '';
          
          let issueType = 'general';
          let responseTemplate = '';
          
          if (title.includes('bug') || body.includes('error') || body.includes('fail')) {
            issueType = 'bug';
            responseTemplate = `
## ğŸ› ë²„ê·¸ ë¦¬í¬íŠ¸ ì ‘ìˆ˜

ë²„ê·¸ ë¦¬í¬íŠ¸ë¥¼ ì œì¶œí•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤! 

### ë‹¤ìŒ ì •ë³´ë¥¼ ì¶”ê°€ë¡œ ì œê³µí•´ì£¼ì‹œë©´ ë” ë¹ ë¥¸ í•´ê²°ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤:
- [ ] **ì¬í˜„ ë‹¨ê³„**: ë²„ê·¸ë¥¼ ì¬í˜„í•  ìˆ˜ ìˆëŠ” ì •í™•í•œ ë‹¨ê³„
- [ ] **ì˜ˆìƒ ë™ì‘**: ì–´ë–¤ ë™ì‘ì„ ê¸°ëŒ€í–ˆëŠ”ì§€
- [ ] **ì‹¤ì œ ë™ì‘**: ì‹¤ì œë¡œ ì–´ë–¤ ì¼ì´ ì¼ì–´ë‚¬ëŠ”ì§€
- [ ] **í™˜ê²½ ì •ë³´**: OS, ë¸Œë¼ìš°ì €, Python ë²„ì „ ë“±
- [ ] **ìŠ¤í¬ë¦°ìƒ·**: ê°€ëŠ¥í•˜ë‹¤ë©´ ìŠ¤í¬ë¦°ìƒ·ì´ë‚˜ ì—ëŸ¬ ë¡œê·¸

ë‹´ë‹¹ìê°€ ê³§ í™•ì¸í•˜ì—¬ ì²˜ë¦¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ”§`;
          } else if (title.includes('feature') || title.includes('enhance') || body.includes('suggest')) {
            issueType = 'feature';
            responseTemplate = `
## âœ¨ ê¸°ëŠ¥ ì œì•ˆ ì ‘ìˆ˜

ìƒˆë¡œìš´ ê¸°ëŠ¥ ì œì•ˆì„ í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤!

### ì œì•ˆì„ ë” êµ¬ì²´í™”í•˜ê¸° ìœ„í•´ ë‹¤ìŒ ì‚¬í•­ì„ ê³ ë ¤í•´ì£¼ì„¸ìš”:
- [ ] **ì‚¬ìš© ì‚¬ë¡€**: ì´ ê¸°ëŠ¥ì´ ì–´ë–¤ ìƒí™©ì—ì„œ í•„ìš”í•œì§€
- [ ] **ì˜ˆìƒ ì´ìµ**: ì´ ê¸°ëŠ¥ìœ¼ë¡œ ì–»ì„ ìˆ˜ ìˆëŠ” ì´ì 
- [ ] **êµ¬í˜„ ë°©ì•ˆ**: ê°€ëŠ¥í•˜ë‹¤ë©´ êµ¬í˜„ ì•„ì´ë””ì–´
- [ ] **ìš°ì„ ìˆœìœ„**: ì´ ê¸°ëŠ¥ì˜ ì¤‘ìš”ë„

íŒ€ì—ì„œ ê²€í†  í›„ ìš°ì„ ìˆœìœ„ë¥¼ ì •í•˜ì—¬ ê°œë°œ ê³„íšì— ë°˜ì˜í•˜ê² ìŠµë‹ˆë‹¤! ğŸš€`;
          } else if (title.includes('question') || title.includes('help') || body.includes('how')) {
            issueType = 'question';
            responseTemplate = `
## â“ ì§ˆë¬¸ ì ‘ìˆ˜

ì§ˆë¬¸ì„ ë‚¨ê²¨ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤!

### ë” ì •í™•í•œ ë‹µë³€ì„ ìœ„í•´:
- [ ] **ìƒí™© ì„¤ëª…**: í˜„ì¬ ìƒí™©ì„ êµ¬ì²´ì ìœ¼ë¡œ ì„¤ëª…
- [ ] **ì‹œë„í•œ ë°©ë²•**: ì´ë¯¸ ì‹œë„í•´ë³¸ í•´ê²° ë°©ë²•
- [ ] **ê´€ë ¨ ì½”ë“œ**: ë¬¸ì œì™€ ê´€ë ¨ëœ ì½”ë“œê°€ ìˆë‹¤ë©´ ê³µìœ 
- [ ] **ì—ëŸ¬ ë©”ì‹œì§€**: ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤ë©´ ì „ì²´ ì—ëŸ¬ ë©”ì‹œì§€

ì»¤ë®¤ë‹ˆí‹° ë˜ëŠ” ë‹´ë‹¹ìê°€ ë¹ ë¥´ê²Œ ë‹µë³€ë“œë¦¬ê² ìŠµë‹ˆë‹¤! ğŸ’¬`;
          } else {
            responseTemplate = `
## ğŸ“ ì´ìŠˆ ì ‘ìˆ˜

ì´ìŠˆë¥¼ ë“±ë¡í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤!

### ì´ìŠˆ ì²˜ë¦¬ ì ˆì°¨:
1. **ë¼ë²¨ë§**: ìë™ìœ¼ë¡œ ì ì ˆí•œ ë¼ë²¨ì´ ë¶€ì—¬ë©ë‹ˆë‹¤
2. **ë‹´ë‹¹ì í• ë‹¹**: ì ì ˆí•œ ë‹´ë‹¹ìê°€ ë°°ì •ë©ë‹ˆë‹¤
3. **ìš°ì„ ìˆœìœ„ ê²°ì •**: íŒ€ì—ì„œ ìš°ì„ ìˆœìœ„ë¥¼ ê²€í† í•©ë‹ˆë‹¤
4. **ê°œë°œ ì§„í–‰**: ì¼ì •ì— ë”°ë¼ ê°œë°œì„ ì§„í–‰í•©ë‹ˆë‹¤

ì§„í–‰ ìƒí™©ì€ ì´ ì´ìŠˆë¥¼ í†µí•´ ì—…ë°ì´íŠ¸ë“œë¦¬ê² ìŠµë‹ˆë‹¤! ğŸ‘`;
          }
          
          await github.rest.issues.createComment({
            owner,
            repo,
            issue_number: number,
            body: responseTemplate
          });
          
          console.log(`ì´ìŠˆ ìë™ ëŒ“ê¸€ ì¶”ê°€ ì™„ë£Œ (ìœ í˜•: ${issueType})`); 